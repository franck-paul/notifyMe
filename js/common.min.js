"use strict";function checkNewComments(){dotclear.services("notifyMeCheckNewComments",(e=>{try{const o=JSON.parse(e);if(!o?.success)return void console.log(dotclear.debug&&o?.message?o.message:"Dotclear REST server error");Number(o?.payload.ret)>0&&(notifyBrowser(o.payload.msg,dotclear.notify_me.config.title,dotclear.notify_me.config.wait),dotclear.notify_me.comments.id=o?.payload.last_id)}catch(e){console.log(e)}}),(e=>{console.log(e)}),!0,{json:1,last_id:dotclear.notify_me.comments.id})}window.addEventListener("load",(()=>{dotclear.notify_me.comments=dotclear.getData("notify_me_comments"),setInterval(checkNewComments,dotclear.notify_me.comments.check)}));
