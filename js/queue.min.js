"use strict";dotclear.notify_me={queue:[],running:!1,add(e,t=null,n=!1){dotclear.notify_me.queue.push({message:e,title:t,silent:n})},check(){if(dotclear.notify_me.running)return;dotclear.notify_me.running=!0;const e=document.querySelectorAll("[id^='notify_me_msg_']");if(e.length)for(const t of e){let e=t.getAttribute("id");if(e.match(/-data$/)){e=t.getAttribute("id").substring(0,e.length-5);const n=dotclear.getData(e);0!==Object.keys(n).length&&n.constructor===Object&&dotclear.notify_me.add(n.message,n.title||null,n.silent||!1)}}const t=dotclear.getData("notify_me_msg");if(0!==Object.keys(t).length&&t.constructor===Object&&dotclear.notify_me.add(t.message,t.title||null,t.silent||!1),dotclear.notify_me.queue.length){for(const e of dotclear.notify_me.queue)notifyBrowser(e.message,e.title||null,e.silent||!1,dotclear.notify_me.config.wait);dotclear.notify_me.queue=[]}dotclear.notify_me.running=!1}},window.addEventListener("load",()=>{dotclear.notify_me.config=dotclear.getData("notify_me_config"),setInterval(dotclear.notify_me.check,100)});
