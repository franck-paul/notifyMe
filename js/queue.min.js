dotclear.notify_me = {queue:[],running:!1,add(msg, title = null, silent = !1) {dotclear.notify_me.queue.push({message:msg,title,silent,});},check() {if(dotclear.notify_me.running) {return;}dotclear.notify_me.running = !0;var list=document.querySelectorAll("[id^='notify_me_msg_']");if(list.length) {list.forEach((elt)=>{var id=elt.getAttribute('id');if(id.match(/-data$/)) {id = elt.getAttribute('id').substring(0, id.length-5);var msg=dotclear.getData(id);if(Object.keys(msg).length!==0&&msg.constructor===Object) {dotclear.notify_me.add(msg.message, msg.title||null, msg.silent||!1);}}});}var data=dotclear.getData('notify_me_msg');if(Object.keys(data).length!==0&&data.constructor===Object) {dotclear.notify_me.add(data.message, data.title||null, data.silent||!1);}if(dotclear.notify_me.queue.length) {dotclear.notify_me.queue.forEach((elt)=>{notifyBrowser(elt.message, elt.title||null, elt.silent||!1, dotclear.notify_me.config.wait);});dotclear.notify_me.queue = [];}dotclear.notify_me.running = !1;},};window.addEventListener('load', ()=>{dotclear.notify_me.config = dotclear.getData('notify_me_config');setInterval(dotclear.notify_me.check, 100);});
